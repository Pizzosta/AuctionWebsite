{% extends "base.html" %}{% block title %}Admin{% endblock %}
{% block content %}
<div class="container-fluid mb-3">
    <h4 class="text-center m-2">Welcome, <strong>{{ username }}!</strong></h4>
</div>
<!--<form method="POST" enctype="multipart/form-data">
    <div class="mb-3">
        <label for="image">Upload Image:</label>
        <input type="file" id="image" name="image" accept="image/*" multiple>
    </div>
    <div id="image-preview">
        <!-- Preview thumbnails will appear here 
    </div>
    <button type="button" class="btn btn-danger" id="clear-thumbnails">Reset</button>
    <button type="submit" class="btn btn-primary">Upload Image</button>
</form>-->
<!-- Auction Model -->

<form method="POST" action="{{ url_for('views.admin_panel') }}" enctype="multipart/form-data">
    <h2>Auction Information</h2>

    <label for="title">Auction Title:</label>
    <input type="text" id="title" name="title"><br>
    <label for="description">Description:</label>
    <textarea id="description" name="description"></textarea><br>
    <label for="start_time">Start Time:</label>
    <input type="datetime-local" id="start_time" name="start_time"><br>
    <label for="end_time">End Time:</label>
    <input type="datetime-local" id="end_time" name="end_time"><br>
    <label for="starting_bid">Starting Bid:</label>
    <input type="number" step="0.01" id="starting_bid" name="starting_bid"><br>

    <h2>Bid Information</h2>

    <label for="amount">Bid Amount:</label>
    <input type="number" step="0.01" id="amount" name="amount" placeholder="Bid Amount"><br>

    <h2>Image Information</h2>

    <label for="image">Upload Image:</label>
    <input type="file" id="image" name="image" accept="image/*" multiple>
    <div id="image-preview">
        <!-- Preview thumbnails will appear here -->
    </div>
    <button type="submit">Submit</button>

</form>

<div>
    <ul class="list">
        {% for auction in user.auctions %}
        {% if auction.user.is_admin %}
        <li>
            {{ auction.title }}
            {{ auction.description }}
            {{ auction.created_at }}
            {{ auction.start_time }}
            {{ auction.end_time }}
            {{ auction.starting_bid }}

        </li>
        {% endif %}
        {% endfor %}
    </ul>
</div>
<div>
    <table class="table table-bordered">
        <thead>
            <tr>
                <th>Title</th>
                <th>Description</th>
                <th>Created At</th>
                <th>Start Time</th>
                <th>End Time</th>
                <th>Starting Bid</th>
                <th>Delete Auction</th>
            </tr>
        </thead>
        <tbody>
            {% for auction in user.auctions %}
            {% if auction.user.is_admin %}
            <tr id="auction-row-{{ auction.id }}">
                <td>{{ auction.title }}</td>
                <td>{{ auction.description }}</td>
                <td>{{ auction.created_at }}</td>
                <td>{{ auction.start_time }}</td>
                <td>{{ auction.end_time }}</td>
                <td>{{ auction.starting_bid }}</td>
                <td> <button type="button" class="btn-close"
                        onclick="deleteAuction({{ auction.id }})"></button>
                </td>
            </tr>
            {% endif %}
            {% endfor %}
        </tbody>
    </table>
</div>

<!--<table class="table" id="resultsTable">
    <thead>
        <tr>
            <th>Service</th>
            <th>IP</th>
            <th></th>
        </tr>
    </thead>
    <tbody>
        {% for test_request in user.test_requests %}
        <tr id="test-request-row-{{ test_request.request_id }}">
            <td>
                <ul class="list-group-numbered">
                    {% for service in test_request.services %}
                    <li class="list-group-item">
                        {{ service.name }}
                    </li>
                    {% endfor %}
                </ul>
            </td>
            <td>{{ test_request.ip }}</td>
            <td> <button type="button" class="btn-close float-end"
                    onclick="deleteTestRequest({{ test_request.request_id }})"></button>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>-->
{% endblock %}